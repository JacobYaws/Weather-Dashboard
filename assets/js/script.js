var APIKey = '372217d19254a40455870d3bf6d14f8b';
var staticResponse = {
    "cod": "200",
    "message": 0,
    "cnt": 40,
    "list": [
        {
            "dt": 1668578400,
            "main": {
                "temp": 23.43,
                "feels_like": 17.01,
                "temp_min": 23.43,
                "temp_max": 29.75,
                "pressure": 1032,
                "sea_level": 1032,
                "grnd_level": 848,
                "humidity": 55,
                "temp_kf": -3.51
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 1
            },
            "wind": {
                "speed": 5.01,
                "deg": 220,
                "gust": 6.69
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-16 06:00:00"
        },
        {
            "dt": 1668589200,
            "main": {
                "temp": 25.38,
                "feels_like": 20.21,
                "temp_min": 25.38,
                "temp_max": 29.26,
                "pressure": 1032,
                "sea_level": 1032,
                "grnd_level": 848,
                "humidity": 48,
                "temp_kf": -2.16
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 3
            },
            "wind": {
                "speed": 4.18,
                "deg": 225,
                "gust": 5.32
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-16 09:00:00"
        },
        {
            "dt": 1668600000,
            "main": {
                "temp": 27,
                "feels_like": 22.95,
                "temp_min": 27,
                "temp_max": 28.78,
                "pressure": 1033,
                "sea_level": 1033,
                "grnd_level": 848,
                "humidity": 41,
                "temp_kf": -0.99
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 6
            },
            "wind": {
                "speed": 3.49,
                "deg": 212,
                "gust": 4.74
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-16 12:00:00"
        },
        {
            "dt": 1668610800,
            "main": {
                "temp": 30.29,
                "feels_like": 25.27,
                "temp_min": 30.29,
                "temp_max": 30.29,
                "pressure": 1034,
                "sea_level": 1034,
                "grnd_level": 850,
                "humidity": 31,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 803,
                    "main": "Clouds",
                    "description": "broken clouds",
                    "icon": "04d"
                }
            ],
            "clouds": {
                "all": 77
            },
            "wind": {
                "speed": 4.79,
                "deg": 209,
                "gust": 5.59
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-16 15:00:00"
        },
        {
            "dt": 1668621600,
            "main": {
                "temp": 36.97,
                "feels_like": 34.86,
                "temp_min": 36.97,
                "temp_max": 36.97,
                "pressure": 1031,
                "sea_level": 1031,
                "grnd_level": 850,
                "humidity": 24,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 803,
                    "main": "Clouds",
                    "description": "broken clouds",
                    "icon": "04d"
                }
            ],
            "clouds": {
                "all": 63
            },
            "wind": {
                "speed": 3.06,
                "deg": 172,
                "gust": 3.78
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-16 18:00:00"
        },
        {
            "dt": 1668632400,
            "main": {
                "temp": 41.18,
                "feels_like": 38.64,
                "temp_min": 41.18,
                "temp_max": 41.18,
                "pressure": 1026,
                "sea_level": 1026,
                "grnd_level": 847,
                "humidity": 20,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 802,
                    "main": "Clouds",
                    "description": "scattered clouds",
                    "icon": "03d"
                }
            ],
            "clouds": {
                "all": 34
            },
            "wind": {
                "speed": 4.05,
                "deg": 109,
                "gust": 2.68
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-16 21:00:00"
        },
        {
            "dt": 1668643200,
            "main": {
                "temp": 38.41,
                "feels_like": 36.41,
                "temp_min": 38.41,
                "temp_max": 38.41,
                "pressure": 1026,
                "sea_level": 1026,
                "grnd_level": 846,
                "humidity": 24,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 801,
                    "main": "Clouds",
                    "description": "few clouds",
                    "icon": "02n"
                }
            ],
            "clouds": {
                "all": 19
            },
            "wind": {
                "speed": 3.13,
                "deg": 149,
                "gust": 3.67
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-17 00:00:00"
        },
        {
            "dt": 1668654000,
            "main": {
                "temp": 34.88,
                "feels_like": 29.53,
                "temp_min": 34.88,
                "temp_max": 34.88,
                "pressure": 1027,
                "sea_level": 1027,
                "grnd_level": 846,
                "humidity": 33,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 801,
                    "main": "Clouds",
                    "description": "few clouds",
                    "icon": "02n"
                }
            ],
            "clouds": {
                "all": 13
            },
            "wind": {
                "speed": 6.17,
                "deg": 194,
                "gust": 11.48
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-17 03:00:00"
        },
        {
            "dt": 1668664800,
            "main": {
                "temp": 32.88,
                "feels_like": 28.22,
                "temp_min": 32.88,
                "temp_max": 32.88,
                "pressure": 1026,
                "sea_level": 1026,
                "grnd_level": 844,
                "humidity": 40,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 802,
                    "main": "Clouds",
                    "description": "scattered clouds",
                    "icon": "03n"
                }
            ],
            "clouds": {
                "all": 27
            },
            "wind": {
                "speed": 4.88,
                "deg": 204,
                "gust": 7.92
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-17 06:00:00"
        },
        {
            "dt": 1668675600,
            "main": {
                "temp": 34.05,
                "feels_like": 34.05,
                "temp_min": 34.05,
                "temp_max": 34.05,
                "pressure": 1024,
                "sea_level": 1024,
                "grnd_level": 843,
                "humidity": 37,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 804,
                    "main": "Clouds",
                    "description": "overcast clouds",
                    "icon": "04n"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 0.4,
                "deg": 288,
                "gust": 3.24
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-17 09:00:00"
        },
        {
            "dt": 1668686400,
            "main": {
                "temp": 29.7,
                "feels_like": 21.13,
                "temp_min": 29.7,
                "temp_max": 29.7,
                "pressure": 1028,
                "sea_level": 1028,
                "grnd_level": 845,
                "humidity": 41,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 804,
                    "main": "Clouds",
                    "description": "overcast clouds",
                    "icon": "04n"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 9.53,
                "deg": 19,
                "gust": 14.88
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-17 12:00:00"
        },
        {
            "dt": 1668697200,
            "main": {
                "temp": 26.17,
                "feels_like": 19.15,
                "temp_min": 26.17,
                "temp_max": 26.17,
                "pressure": 1033,
                "sea_level": 1033,
                "grnd_level": 848,
                "humidity": 77,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 804,
                    "main": "Clouds",
                    "description": "overcast clouds",
                    "icon": "04d"
                }
            ],
            "clouds": {
                "all": 97
            },
            "wind": {
                "speed": 6.15,
                "deg": 50,
                "gust": 7.67
            },
            "visibility": 4116,
            "pop": 0.16,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-17 15:00:00"
        },
        {
            "dt": 1668708000,
            "main": {
                "temp": 27.41,
                "feels_like": 17.71,
                "temp_min": 27.41,
                "temp_max": 27.41,
                "pressure": 1032,
                "sea_level": 1032,
                "grnd_level": 847,
                "humidity": 70,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 600,
                    "main": "Snow",
                    "description": "light snow",
                    "icon": "13d"
                }
            ],
            "clouds": {
                "all": 98
            },
            "wind": {
                "speed": 10.63,
                "deg": 39,
                "gust": 9.37
            },
            "visibility": 6598,
            "pop": 0.36,
            "snow": {
                "3h": 0.31
            },
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-17 18:00:00"
        },
        {
            "dt": 1668718800,
            "main": {
                "temp": 26.38,
                "feels_like": 17.38,
                "temp_min": 26.38,
                "temp_max": 26.38,
                "pressure": 1031,
                "sea_level": 1031,
                "grnd_level": 846,
                "humidity": 60,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 600,
                    "main": "Snow",
                    "description": "light snow",
                    "icon": "13d"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 8.95,
                "deg": 57,
                "gust": 7.16
            },
            "visibility": 10000,
            "pop": 0.4,
            "snow": {
                "3h": 0.26
            },
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-17 21:00:00"
        },
        {
            "dt": 1668729600,
            "main": {
                "temp": 22.14,
                "feels_like": 11.26,
                "temp_min": 22.14,
                "temp_max": 22.14,
                "pressure": 1033,
                "sea_level": 1033,
                "grnd_level": 847,
                "humidity": 76,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 600,
                    "main": "Snow",
                    "description": "light snow",
                    "icon": "13n"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 10.4,
                "deg": 59,
                "gust": 10.36
            },
            "visibility": 996,
            "pop": 0.56,
            "snow": {
                "3h": 0.31
            },
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-18 00:00:00"
        },
        {
            "dt": 1668740400,
            "main": {
                "temp": 19.96,
                "feels_like": 10.76,
                "temp_min": 19.96,
                "temp_max": 19.96,
                "pressure": 1036,
                "sea_level": 1036,
                "grnd_level": 848,
                "humidity": 72,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 600,
                    "main": "Snow",
                    "description": "light snow",
                    "icon": "13n"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 7.27,
                "deg": 69,
                "gust": 6.6
            },
            "visibility": 4048,
            "pop": 0.8,
            "snow": {
                "3h": 0.44
            },
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-18 03:00:00"
        },
        {
            "dt": 1668751200,
            "main": {
                "temp": 18.64,
                "feels_like": 8.08,
                "temp_min": 18.64,
                "temp_max": 18.64,
                "pressure": 1036,
                "sea_level": 1036,
                "grnd_level": 848,
                "humidity": 81,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 600,
                    "main": "Snow",
                    "description": "light snow",
                    "icon": "13n"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 8.68,
                "deg": 67,
                "gust": 8.05
            },
            "visibility": 323,
            "pop": 0.88,
            "snow": {
                "3h": 0.55
            },
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-18 06:00:00"
        },
        {
            "dt": 1668762000,
            "main": {
                "temp": 15.78,
                "feels_like": 5,
                "temp_min": 15.78,
                "temp_max": 15.78,
                "pressure": 1037,
                "sea_level": 1037,
                "grnd_level": 848,
                "humidity": 84,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 600,
                    "main": "Snow",
                    "description": "light snow",
                    "icon": "13n"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 8.12,
                "deg": 72,
                "gust": 7.92
            },
            "visibility": 236,
            "pop": 0.92,
            "snow": {
                "3h": 1.11
            },
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-18 09:00:00"
        },
        {
            "dt": 1668772800,
            "main": {
                "temp": 14.97,
                "feels_like": 6.12,
                "temp_min": 14.97,
                "temp_max": 14.97,
                "pressure": 1037,
                "sea_level": 1037,
                "grnd_level": 847,
                "humidity": 77,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 600,
                    "main": "Snow",
                    "description": "light snow",
                    "icon": "13n"
                }
            ],
            "clouds": {
                "all": 100
            },
            "wind": {
                "speed": 5.84,
                "deg": 87,
                "gust": 5.61
            },
            "visibility": 5800,
            "pop": 0.87,
            "snow": {
                "3h": 0.43
            },
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-18 12:00:00"
        },
        {
            "dt": 1668783600,
            "main": {
                "temp": 15.3,
                "feels_like": 8.28,
                "temp_min": 15.3,
                "temp_max": 15.3,
                "pressure": 1037,
                "sea_level": 1037,
                "grnd_level": 847,
                "humidity": 72,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 804,
                    "main": "Clouds",
                    "description": "overcast clouds",
                    "icon": "04d"
                }
            ],
            "clouds": {
                "all": 98
            },
            "wind": {
                "speed": 4.36,
                "deg": 86,
                "gust": 3.51
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-18 15:00:00"
        },
        {
            "dt": 1668794400,
            "main": {
                "temp": 21.83,
                "feels_like": 21.83,
                "temp_min": 21.83,
                "temp_max": 21.83,
                "pressure": 1033,
                "sea_level": 1033,
                "grnd_level": 847,
                "humidity": 56,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 804,
                    "main": "Clouds",
                    "description": "overcast clouds",
                    "icon": "04d"
                }
            ],
            "clouds": {
                "all": 91
            },
            "wind": {
                "speed": 2.01,
                "deg": 111,
                "gust": 2.55
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-18 18:00:00"
        },
        {
            "dt": 1668805200,
            "main": {
                "temp": 25.79,
                "feels_like": 25.79,
                "temp_min": 25.79,
                "temp_max": 25.79,
                "pressure": 1029,
                "sea_level": 1029,
                "grnd_level": 844,
                "humidity": 49,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01d"
                }
            ],
            "clouds": {
                "all": 3
            },
            "wind": {
                "speed": 1.48,
                "deg": 46,
                "gust": 1.68
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-18 21:00:00"
        },
        {
            "dt": 1668816000,
            "main": {
                "temp": 24.35,
                "feels_like": 24.35,
                "temp_min": 24.35,
                "temp_max": 24.35,
                "pressure": 1028,
                "sea_level": 1028,
                "grnd_level": 843,
                "humidity": 55,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 2
            },
            "wind": {
                "speed": 1.59,
                "deg": 35,
                "gust": 1.74
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-19 00:00:00"
        },
        {
            "dt": 1668826800,
            "main": {
                "temp": 23.4,
                "feels_like": 17.82,
                "temp_min": 23.4,
                "temp_max": 23.4,
                "pressure": 1029,
                "sea_level": 1029,
                "grnd_level": 843,
                "humidity": 61,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 4.25,
                "deg": 200,
                "gust": 6.85
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-19 03:00:00"
        },
        {
            "dt": 1668837600,
            "main": {
                "temp": 22.55,
                "feels_like": 16.07,
                "temp_min": 22.55,
                "temp_max": 22.55,
                "pressure": 1029,
                "sea_level": 1029,
                "grnd_level": 843,
                "humidity": 61,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 1
            },
            "wind": {
                "speed": 4.92,
                "deg": 207,
                "gust": 7.29
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-19 06:00:00"
        },
        {
            "dt": 1668848400,
            "main": {
                "temp": 22.78,
                "feels_like": 17.26,
                "temp_min": 22.78,
                "temp_max": 22.78,
                "pressure": 1029,
                "sea_level": 1029,
                "grnd_level": 843,
                "humidity": 61,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 5
            },
            "wind": {
                "speed": 4.14,
                "deg": 221,
                "gust": 6.2
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-19 09:00:00"
        },
        {
            "dt": 1668859200,
            "main": {
                "temp": 22.71,
                "feels_like": 16.81,
                "temp_min": 22.71,
                "temp_max": 22.71,
                "pressure": 1028,
                "sea_level": 1028,
                "grnd_level": 843,
                "humidity": 61,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 8
            },
            "wind": {
                "speed": 4.43,
                "deg": 213,
                "gust": 7.09
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-19 12:00:00"
        },
        {
            "dt": 1668870000,
            "main": {
                "temp": 25.45,
                "feels_like": 21.85,
                "temp_min": 25.45,
                "temp_max": 25.45,
                "pressure": 1029,
                "sea_level": 1029,
                "grnd_level": 844,
                "humidity": 54,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 801,
                    "main": "Clouds",
                    "description": "few clouds",
                    "icon": "02d"
                }
            ],
            "clouds": {
                "all": 17
            },
            "wind": {
                "speed": 3.04,
                "deg": 217,
                "gust": 4.36
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-19 15:00:00"
        },
        {
            "dt": 1668880800,
            "main": {
                "temp": 34.43,
                "feels_like": 34.43,
                "temp_min": 34.43,
                "temp_max": 34.43,
                "pressure": 1027,
                "sea_level": 1027,
                "grnd_level": 846,
                "humidity": 35,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 801,
                    "main": "Clouds",
                    "description": "few clouds",
                    "icon": "02d"
                }
            ],
            "clouds": {
                "all": 13
            },
            "wind": {
                "speed": 2.17,
                "deg": 156,
                "gust": 2.77
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-19 18:00:00"
        },
        {
            "dt": 1668891600,
            "main": {
                "temp": 38.59,
                "feels_like": 36.23,
                "temp_min": 38.59,
                "temp_max": 38.59,
                "pressure": 1024,
                "sea_level": 1024,
                "grnd_level": 845,
                "humidity": 27,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01d"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 3.47,
                "deg": 125,
                "gust": 7.56
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-19 21:00:00"
        },
        {
            "dt": 1668902400,
            "main": {
                "temp": 32.16,
                "feels_like": 32.16,
                "temp_min": 32.16,
                "temp_max": 32.16,
                "pressure": 1026,
                "sea_level": 1026,
                "grnd_level": 844,
                "humidity": 42,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 2.06,
                "deg": 198,
                "gust": 2.06
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-20 00:00:00"
        },
        {
            "dt": 1668913200,
            "main": {
                "temp": 29.84,
                "feels_like": 25.21,
                "temp_min": 29.84,
                "temp_max": 29.84,
                "pressure": 1028,
                "sea_level": 1028,
                "grnd_level": 845,
                "humidity": 58,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 4.34,
                "deg": 227,
                "gust": 4.63
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-20 03:00:00"
        },
        {
            "dt": 1668924000,
            "main": {
                "temp": 29.25,
                "feels_like": 24.4,
                "temp_min": 29.25,
                "temp_max": 29.25,
                "pressure": 1028,
                "sea_level": 1028,
                "grnd_level": 845,
                "humidity": 59,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 4.45,
                "deg": 212,
                "gust": 5.55
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-20 06:00:00"
        },
        {
            "dt": 1668934800,
            "main": {
                "temp": 29.03,
                "feels_like": 25.2,
                "temp_min": 29.03,
                "temp_max": 29.03,
                "pressure": 1028,
                "sea_level": 1028,
                "grnd_level": 844,
                "humidity": 57,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 3.56,
                "deg": 229,
                "gust": 3.83
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-20 09:00:00"
        },
        {
            "dt": 1668945600,
            "main": {
                "temp": 28.85,
                "feels_like": 23.32,
                "temp_min": 28.85,
                "temp_max": 28.85,
                "pressure": 1026,
                "sea_level": 1026,
                "grnd_level": 843,
                "humidity": 53,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 5.06,
                "deg": 211,
                "gust": 7.16
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-20 12:00:00"
        },
        {
            "dt": 1668956400,
            "main": {
                "temp": 30.94,
                "feels_like": 25.57,
                "temp_min": 30.94,
                "temp_max": 30.94,
                "pressure": 1024,
                "sea_level": 1024,
                "grnd_level": 842,
                "humidity": 46,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01d"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 5.28,
                "deg": 206,
                "gust": 8.93
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-20 15:00:00"
        },
        {
            "dt": 1668967200,
            "main": {
                "temp": 42.71,
                "feels_like": 42.71,
                "temp_min": 42.71,
                "temp_max": 42.71,
                "pressure": 1019,
                "sea_level": 1019,
                "grnd_level": 842,
                "humidity": 34,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01d"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 1.32,
                "deg": 186,
                "gust": 1.92
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-20 18:00:00"
        },
        {
            "dt": 1668978000,
            "main": {
                "temp": 46.6,
                "feels_like": 46.6,
                "temp_min": 46.6,
                "temp_max": 46.6,
                "pressure": 1016,
                "sea_level": 1016,
                "grnd_level": 840,
                "humidity": 28,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01d"
                }
            ],
            "clouds": {
                "all": 0
            },
            "wind": {
                "speed": 1.32,
                "deg": 141,
                "gust": 2.39
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "d"
            },
            "dt_txt": "2022-11-20 21:00:00"
        },
        {
            "dt": 1668988800,
            "main": {
                "temp": 40.1,
                "feels_like": 40.1,
                "temp_min": 40.1,
                "temp_max": 40.1,
                "pressure": 1018,
                "sea_level": 1018,
                "grnd_level": 840,
                "humidity": 38,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 800,
                    "main": "Clear",
                    "description": "clear sky",
                    "icon": "01n"
                }
            ],
            "clouds": {
                "all": 5
            },
            "wind": {
                "speed": 1.54,
                "deg": 320,
                "gust": 1.7
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-21 00:00:00"
        },
        {
            "dt": 1668999600,
            "main": {
                "temp": 36.37,
                "feels_like": 32.22,
                "temp_min": 36.37,
                "temp_max": 36.37,
                "pressure": 1021,
                "sea_level": 1021,
                "grnd_level": 841,
                "humidity": 51,
                "temp_kf": 0
            },
            "weather": [
                {
                    "id": 802,
                    "main": "Clouds",
                    "description": "scattered clouds",
                    "icon": "03n"
                }
            ],
            "clouds": {
                "all": 27
            },
            "wind": {
                "speed": 4.99,
                "deg": 224,
                "gust": 4.59
            },
            "visibility": 10000,
            "pop": 0,
            "sys": {
                "pod": "n"
            },
            "dt_txt": "2022-11-21 03:00:00"
        }
    ],
    "city": {
        "id": 5419384,
        "name": "Denver",
        "coord": {
            "lat": 39.7392,
            "lon": -104.9903
        },
        "country": "US",
        "population": 600158,
        "timezone": -25200,
        "sunrise": 1668519884,
        "sunset": 1668555880
    }
}

var defaultCityName = 'Denver'
//var searchItem = []
//let cityNameSearch = document.getElementById('searchBtn').addEventListener('click', function() {
   // document.q("searchInput").valueOf = cityNameSearch;
   // console.log(this.querySelectorAll('#searchInput').value)

//})
var APIString = 'https://api.openweathermap.org/data/2.5/forecast?appid=[key]&units=imperial&q='
var fiveDay = [];

// This function is the API call that pulls all the data needed for the page. The data is pulled in as an object to use for later.
function getData(cityName) {
    APIString = APIString.replace('[key]', APIKey);


    var requestOptions = {
        method: 'GET',
        redirect: 'follow'
      };
      
      fetch(APIString + cityName, requestOptions)
        .then(response => response.text())
        .then(result => extractData(JSON.parse(result)))
        .catch(error => console.log('error', error));
}


// This function is used to manipulate the data to get only the relevant data needed for the page.
function extractData(staticResponse) {
    //console.log(staticResponse);
    //console.log(staticResponse['city']['name']);
    //console.log(staticResponse['list'][4]['dt_txt']);
    //console.log(staticResponse['list'][4]['main']['temp'] + 'F');
    //console.log(staticResponse['list'][4]['main']['humidity'] + '%');
    //console.log(staticResponse['list'][4]['wind']['speed'] + ' ' + 'mph');
    //console.log(staticResponse['list'][4]['weather'][0]['icon']);
    //console.log(staticResponse['list']);

    var fullForecast = staticResponse['list'];
    fiveDay = [];
// This for loop is used to pull every 8th set of data to get weather info once for each seperate day.
    for (let i = 0; i < fullForecast.length; i++) {
      //console.log(fullForecast[i]['dt_txt']);
      //console.log(i % 8 == 0)
      if (i % 8 == 0) {
        fiveDay.push(fullForecast[i]);
        //console.log(fullForecast[i]['dt_txt']) 
      }
      //fullForecast[i]['dt_txt'];  
    }   
    // This finds the city name from the data and assigns it to a variable.  
    searchedCityName = staticResponse['city']['name'];
    
  displayData();
}

function clearData() {
    var cday = document.getElementById("currentday");

    // This for loop is used to clear each card so whenever a new search is executed, whatever is in the card is cleared, and the new data is presented.
    for (let i = 0; i < 5; i++) {
        var img = document.createElement("img");
        img.className = "card-img-top";
        img.alt = "Card image cap";
        img.id="img"+i;
        //console.log(document.getElementById("img" + i).src)
        //console.log(document.getElementById("currentday").children);
        if (i == 0) {
            //cday.innerHTML = imgDef.replace("imgX", "img"+i);
            cday.replaceChildren(img)
        } else {
            var card = document.getElementById("card" + i);
            card.replaceChildren(img);
        }

        //console.log(cday.children)
        /* for (let j = 4; j > 0; j--) {
            if (i == 0 && j != 0) {
                //console.log(cday.children[j])
                cday.children[j].remove();
            } else if (i != 0 && j != 0) {
                card.children[j].remove();
            } 
        } */        
    }
}

function displayData() {
    clearData();
    // This for loop is used to take the relevant data and display it in each card whenever a new search is executed.
    for (let i = 0; i < fiveDay.length; i++) {
        //console.log(fiveDay);
        
        // These provide the text content for each individual piece of data.
        var dateElem = document.createElement("h3");
        dateElem.textContent = (dayjs(fiveDay[i]['dt_txt'].substr(0,11)).format('MM/DD/YYYY'));
        dateElem.classList.add("date");
        var tempElem = document.createElement("h3");
        tempElem.textContent = "Temp: " + fiveDay[i]['main']['temp'] + ' °F'
        tempElem.classList.add("temp");
        var humElem = document.createElement("h4");
        humElem.textContent = "Humidity: " + fiveDay[i]['main']['humidity'] + '%'
        humElem.classList.add("hum");
        var windElem = document.createElement("h4");
        windElem.textContent = "Wind: " + fiveDay[i]['wind']['speed'] + ' ' + 'mph'
        windElem.classList.add("wind");
        
        // This if-else statement uses the pulled data and places it in the correct card so that the weather for each day is accurately represented. 
        if (i == 0) {

            var cday = document.getElementById("currentday");
            let cityNameElem = document.createElement("h3");
            cityNameElem.innerText = searchedCityName;
            cday.insertBefore(cityNameElem, cday.children[0])
            cday.appendChild(dateElem);
            cday.appendChild(tempElem);
            cday.appendChild(humElem);
            cday.appendChild(windElem);

            /* document.getElementById("currentday").innerHTML += "<h3>" + (dayjs(fiveDay[i]['dt_txt'].substr(0,11)).format('MM/DD/YYYY')) + "</h3>";
            document.getElementById("currentday").innerHTML += "<h3> Temp: " + fiveDay[i]['main']['temp'] + ' °F' + "</h3>"; 
            document.getElementById("currentday").innerHTML += "<h4> Humidity: " + fiveDay[i]['main']['humidity'] + '%' + "</h4>";  
            document.getElementById("currentday").innerHTML += "<h4> Wind: " + fiveDay[i]['wind']['speed'] + ' ' + 'mph' + "</h5>"; */
            document.getElementById("img" + i).setAttribute('src', "http://openweathermap.org/img/wn/" + fiveDay[i]['weather'][0]['icon'] + "@2x.png");  
            //console.log(document.getElementById("currentday"))
        
        } else {
            var card = document.getElementById("card" + i);
            card.appendChild(dateElem);
            card.appendChild(tempElem);
            card.appendChild(humElem);
            card.appendChild(windElem);

            /* document.getElementById("card" + i).innerHTML += "<h4>" + (dayjs(fiveDay[i]['dt_txt'].substr(0,11)).format('MM/DD/YYYY')) + "</h4>";
            document.getElementById("card" + i).innerHTML += "<h4> Temp: " + fiveDay[i]['main']['temp'] + ' °F' + "</h4>";
            document.getElementById("card" + i).innerHTML += "<h4> Humidity: " + fiveDay[i]['main']['humidity'] + '%' + "</h4>";
            document.getElementById("card" + i).appendChild += "<h4> Wind: " + fiveDay[i]['wind']['speed'] + ' ' + 'mph' + "</h4>"; */
            document.getElementById("img" + i).setAttribute('src', "http://openweathermap.org/img/wn/" + fiveDay[i]['weather'][0]['icon'] + "@2x.png");

        }
        //console.log(document.getElementById("currentday").children);
    }
}
// This function is used when the search button is clicked. It takes the text entry and grabs all of the weather data for it if it is a real city. 
// This function also stores the text entry into local storage and appends a list item so that the entry is represented in the search history if the page is refreshed.
document.getElementById('searchBtn').addEventListener('click', ()=> {
    //console.log('click');
    
    let searchItem = document.getElementById('searchInput').value;
    
    if(String(searchItem).length != 0) {
        getData(searchItem)
        //console.log(liElement)
        let prevCities = localStorage.getItem("cities");
        if (prevCities != null) {
            prevCities = JSON.parse(prevCities)
            if(!prevCities.includes(String(searchItem).toLowerCase())) {
                prevCities.push(String(searchItem).toLowerCase());
                createResultButton(String(searchItem).toLowerCase());
            }
            localStorage.setItem("cities", JSON.stringify(prevCities))
        } else {
            prevCities = []
            //prevCities.push(cityName)
            //createResultButton(cityName)
            prevCities.push(String(searchItem).toLowerCase())
            createResultButton(String(searchItem).toLowerCase());
            localStorage.setItem("cities", JSON.stringify(prevCities))
        }
    }
})

// This function creates the button for cities that were searched (current and past searches), as well as allows the buttons in the search history to pull data for that entry (clicking on a button in the search history will display the accurate data for that location).
function createResultButton(buttonName) {
    let searchList = document.getElementById("search-history")
    let liElement = document.createElement('button', id="resultBtn")
    document.getElementById('resultBtn')
    searchList.append(liElement)
    liElement.setAttribute("id", "searchHistory")
    liElement.innerText = buttonName;
    liElement.addEventListener('click', () => {
        //console.log('click')
        //console.log(liElement)
        getData(liElement.innerText);
    });
}

//This function grabs the data for a set location upon refreshing the page (Denver weather). It is also used to grab the data from local storage and create the buttons in the search history.
//extractData(staticResponse);
getData(defaultCityName);
prevCities = JSON.parse(localStorage.getItem("cities"));
if(prevCities != null) {
    for (let i = 0; i < prevCities.length; i++) {
        createResultButton(prevCities[i])
    }
}







//'http://openweathermap.org/img/wn/10d@2x.png'

//document.getElementById("fiveday").innerHTML += "<h3>" + fiveDay[1]['main']['temp'] + 'F' + "</h3>";
//document.getElementById("fiveday").innerHTML += "<h3>" + fiveDay[1]['dt_txt'] + "</h3>";
//document.getElementById("fiveday").innerHTML += "<h3>" + fiveDay[1]['main']['humidity'] + '%' + "</h3>";
//document.getElementById("fiveday").innerHTML += "<h3>" + fiveDay[1]['weather'][0]['icon'] + "</h3>";
//document.getElementById("fiveday").innerHTML += "<h3>" + fiveDay[1]['wind']['speed'] + ' ' + 'mph' + "</h3>";